<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Serve Constant JSON</title>
</head>
<body>
    <h1>Mock API Server</h1>
    <p>Access the endpoint <code>/entitlement/abcd</code> to get the JSON response.</p>
    <pre id="output"></pre>

    <script>
        // Mock JSON data to be served
        const mockResponses = {
            '/entitlement/abcd': {
                constant1: "This is constant 1",
                constant2: "This is constant 2",
                constant3: "This is constant 3"
            }
        };

        // Intercept fetch API for the mocked endpoint
        window.addEventListener('DOMContentLoaded', () => {
            const originalFetch = window.fetch;
            window.fetch = async (url, options) => {
                if (mockResponses[url]) {
                    return new Response(JSON.stringify(mockResponses[url]), {
                        status: 200,
                        headers: { 'Content-Type': 'application/json' }
                    });
                }
                return originalFetch(url, options); // fallback for other requests
            };

            // Example call to fetch the mock endpoint
            fetch('/entitlement/abcd')
                .then((response) => response.json())
                .then((data) => {
                    document.getElementById('output').textContent = JSON.stringify(data, null, 2);
                })
                .catch((err) => {
                    console.error('Error:', err);
                });
        });
    </script>
</body>
</html>
